# SAMI
SAMI (sistema atomatizado de medicação inteligente) é um projeto feito para o biochalenge inatel 2025.

História para contextualização:
Um casal de idosos (Sr. Antônio e Sra. Dolores) tomam alguns remédios mas vivem confundindo os horários e os medicamentos, que possuem embalagens semelhantes.

Pensando nessa história, definimos um projeto (SAMI) para ajudar esses idosos a controlar melhor seus remédios. 

Explicação técnica e detalhada:
O sistema funciona da seguinte maneira, o idoso precisa se posicionar em frente a uma camera que tem um sistema de reconhecimento facial em python para reconhecer qual idoso deve tomar o remédio (Sr. Antônio ou Sra. Dolores), após essa etapa o código em python do reconhecimento manda a informação se o rosto visto é conhecido ou não, se for conhecido o código manda o nome (uma string) para um microcontrolador via comunicação serial, com essa informação dentro do microcontrolador o código no Arduino IDE compara se está na hora do idoso reconhecido tomar seu devido remédio, para fazer essa camparação o arduino precisa de um cronômetro e uma definição de quando é a hora do idoso tomar o seu remédio, portanto, para o cronômetro foi usado o comando "millis()" que define um timer de 24 horas dentro do arduino, para a outra parte da comparação foi utilizado o comando "struct * {}" que serve para estruturar o idoso definindo seu nome, hora e minuto para tomar o remédio e qual remédio deve ser liberado para esse idoso, após essas informações é criado um "vetor de estruturas" idoso[], onde cada vetor representa um idoso, por exemplo "{"Sr.Antonio", 10, 1, SERVO_ANTONIO, false}", depois disso é criado uma constante para a quantidade de idosos, o comando calcula automaticamente quantos idosos há no vetor, essa constante é igualada ao sizeof(idosos)/sizeof(idoso), onde o "sizeof(idosos)" retorna o tamanho total em bytes de todos os elementos do vetor e o "sizeof(Idoso)" retorna o tamanho de apenas um Idoso, essa divisão é útil para fazer loops for sem precisar alterar manualmente se você adicionar mais idosos depois, depois de todos esses passos o microcontrolador compara e libera o remédio correto. O sitema tem 3 compartimentos para guardar os remédios, para identificar se o compartimento está cheio ou vazio foi colocado um sensor ultrassônico HC-SR04 que lê se há ou não remédios no compartimento através da leitura de seus pinos TRIG e ECHO, o microcontrolador manda um pulso pelo pino TRIG que sai como um pulso ultrassônico (inaudível), esse som viaja no ar, bate em um obstáculo (remédio ou parede) e volta, o pino ECHO fica em nível alto (HIGH) durante o tempo que o som demorou para ir e voltar, o microcontrolador mede esse tempo e calcula a distância do sesor até o obstáculo, a partir desse funcionamento, o sistema pode identificar se o compartimento está cheio ou vazio, informando ao usuario através de LEDs e um Display LCD 16x2 I2C 
